# &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;希姆板卡推理性能

&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; V1.2.0.RC1

&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp;&ensp; &ensp; &ensp; &ensp; &ensp; Stream Computing Inc. 

&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; 2022-02-24

 





![img](C:\Users\kai.yuan\Desktop\license.png)







# 版权声明

本文档版权为北京希姆计算科技有限公司所有（Copyright️2019-2022）。未经本公司书面许可，任何单位或个人不得以任何形式或通过任何途径，包括使用影印、录制在内的电子或机械手段对本文档的部分或者全部进行复制或传播。

## 警告和承诺

我们尽最大努力使本文档尽可能的完善和准确，但疏漏和缺陷之处在所难免。北京希姆计算科技有限公司保留随时修改更新文档的权利。

## 反馈信息

您的反馈意见将使我们受益匪浅。如果您对本文档有什么疑问、意见或建议，请与我们联系，感谢您对我们的支持和帮助。

# 希姆板卡推理性能

测试相关配置如下：

- 推理性能测试工具：希姆计算Benchmark

- 软件环境配置：Ubuntu v-18.04、Tensorturbo master-01-18

- 硬件环境配置：经过调频*后的STCP920 AI推理卡、Host配备Intel(R) Core(TM) i7-9700K CPU @ 3.60GHz

参考推理性能数据如下：

> 表中的性能数据基于调频后的STCP920 AI推理卡测得。调频即调整时钟频点配置，可以最大化发挥模型性能。如果您在板卡上跑出的性能数据有些许波动，请以您的实际测试结果为准。

- 已支持模型FP16的性能

| **Model**      | **Framework** | **Batch size** | **Latency(msec)** | **Throughput (samples per sec)** | **Precision** | **thread_num** |
| -------------- | ------------- | -------------- | ----------------- | -------------------------------- | ------------- | -------------- |
| resnet34       | keras_tf      | 32             | 47.07             | 10877.35                         | FP16          | 16             |
| resnet50       | tensorflow    | 16             | 26.53             | 7236.39                          | FP16          | 12             |
| resnet50_v1p5  | tensorflow    | 16             | 25.44             | 7548.17                          | FP16          | 12             |
| resnet101      | keras_tf      | 16             | 30.51             | 4195.47                          | FP16          | 8              |
| densenet101    | keras_tf      | 8              | 13.93             | 6892.05                          | FP16          | 12             |
| mobilenet_v2   | tensorflow    | 32             | 34.82             | 11028.81                         | FP16          | 12             |
| bert_128       | tensorflow    | 8              | 19.45             | 3290.89                          | FP16          | 8              |
| bert_256       | tensorflow    | 4              | 23.03             | 1389.43                          | FP16          | 8              |
| bert_512       | tensorflow    | 2              | 25.89             | 617.94                           | FP16          | 8              |
| bert_large_384 | tensorflow    | 1              | 102.44            | 78.09                            | FP16          | 8              |
| xlnet          | tensorflow    | 8              | 126.77            | 504.86                           | FP16          | 8              |
| deepfm         | tensorflow    | 1024           | 47.84             | 171247.7                         | FP16          | 8              |
| dlrm           | pytorch       | 1024           | 25.05             | 327005.46                        | FP16          | 8              |
| dssm_mock      | tensorflow    | 8              | 6.34              | 20192.75                         | FP16          | 16             |
| dlrm_1M        | pytorch       | 1024           | 37.73             | 217102.44                        | FP16          | 8              |
| mmoe           | tensorflow    | 51200          | 15.28             | 53625113.3                       | FP16          | 16             |
| wdl            | tensorflow    | 1200           | 81.42             | 235809.28                        | FP16          | 16             |

- 部分模型INT8的性能

| **Model**     | **Framework** | **Batch size** | **Latency(msec)** | **Throughput (samples per sec)** | **Precision** | **thread_num** |
| ------------- | ------------- | -------------- | ----------------- | -------------------------------- | ------------- | -------------- |
| resnet34      | keras_tf      | 32             | 33.08             | 15478.12                         | INT8          | 16             |
| resnet50      | tensorflow    | 16             | 23.9              | 10708.88                         | INT8          | 16             |
| resnet50_v1p5 | tensorflow    | 16             | 22.37             | 11442.51                         | INT8          | 16             |
| resnet101     | keras_tf      | 16             | 29.01             | 6619.17                          | INT8          | 12             |